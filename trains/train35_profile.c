#include <train_profile.h>
#include <track_server.h>
#include <string.h>

#if TRACK_TYPE == TRACK_TYPE_A
static void init_track_a(struct train_profile* train, int track_tid);
#else
static void init_track_b(struct train_profile* train, int track_tid);
#endif

// Put this into wolfram alpha to get curve fit
// fit {0,0},{176,50},{200,100},{219,150},{247,200},{260,250},{271,300},{288,350},{309,400},{316,450},{330,500},{342,550},{339,600},{364,650},{355,700},{378,750},{391,800}

// Given a time in ticks, returns position in mm
static int accelerating_position(int time) {
	float t = (float)time;
	float a = 0.0084583f;
	float b = -1.22498f;
	float c = 1.29213f;

	float result = a*(t*t) + b*t + c;
	return MAX(0, (int)result);
}

// Given a time in ticks, returns velocity in mm/s
static int accelerating_velocity(int time) {
	float t = (float)time;
	float a = 0.0169166f;
	float b = -1.22498f;

	float result = a*t + b;
	return MAX(0, (int)(result * 100));
}

static int stopping_distance(int velocity) {
	float v = (float)velocity;
	float a = 0.0000000178233f;
	float b = -0.0000227574f;
	float c = 0.00991279f;
	float d = 0.0499594f;
	float e = 0.573712f;

	float result = a*(v*v*v*v) + b*(v*v*v) + c*(v*v) + d*(v) + e;
	return MIN(MAX(1, (int)result), 1425);
}

void train35_init(struct train_profile* train, int track_tid) {
	train_profile_init(train, 35);

	train->length = 190;
	train->truck_front = 22;
	train->truck_back = 80;

	train->default_speed = 13;

	train->latest_sensor_node = A8;

	train->accelerating_position_func = &accelerating_position;
	train->accelerating_velocity_func = &accelerating_velocity;
	train->stopping_distance_func = &stopping_distance;

#if TRACK_TYPE == TRACK_TYPE_A
	init_track_a(train, track_tid);
#else
	init_track_b(train, track_tid);
#endif

	train_profile_fill_with_average_ticks(train, track_tid);
}

#if TRACK_TYPE == TRACK_TYPE_A
static void init_track_a(struct train_profile* train, int track_tid) {

	// increase or decrease stopping distance by these many centimeters
	// subtract to make it overshoot (hit and go past the sensor)
	// add to make it undershoot (stop prematurely)
	int fudge_factor = 0;

	/* first 14 are the accelerating stop distances */
	train->stopping_distance[0] = 1;
	train->stopping_distance[1] = MAX(10 + fudge_factor, 0);
	train->stopping_distance[2] = MAX(30 + fudge_factor, 0);
	train->stopping_distance[3] = MAX(57 + fudge_factor, 0);
	train->stopping_distance[4] = MAX(93 + fudge_factor, 0);
	train->stopping_distance[5] = MAX(130 + fudge_factor, 0);
	train->stopping_distance[6] = MAX(200 + fudge_factor, 0);
	train->stopping_distance[7] = MAX(266 + fudge_factor, 0);
	train->stopping_distance[8] = MAX(350 + fudge_factor, 0);
	train->stopping_distance[9] = MAX(460 + fudge_factor, 0);
	train->stopping_distance[10] = MAX(570 + fudge_factor, 0);
	train->stopping_distance[11] = MAX(745 + fudge_factor, 0);
	train->stopping_distance[12] = MAX(945 + fudge_factor, 0);
	train->stopping_distance[13] = MAX(1155 + fudge_factor, 0);
	train->stopping_distance[14] = MAX(1425 + fudge_factor, 0);

	/* next 14 are the decelerating stop distances */
	train->stopping_distance[14+1] = MAX(30 + fudge_factor, 0);
	train->stopping_distance[14+2] = MAX(75 + fudge_factor, 0);
	train->stopping_distance[14+3] = MAX(110 + fudge_factor, 0);
	train->stopping_distance[14+4] = MAX(125 + fudge_factor, 0);
	train->stopping_distance[14+5] = MAX(170 + fudge_factor, 0);
	train->stopping_distance[14+6] = MAX(235 + fudge_factor, 0);
	train->stopping_distance[14+7] = MAX(315 + fudge_factor, 0);
	train->stopping_distance[14+8] = MAX(395 + fudge_factor, 0);
	train->stopping_distance[14+9] = MAX(504 + fudge_factor, 0);
	train->stopping_distance[14+10] = MAX(675 + fudge_factor, 0);
	train->stopping_distance[14+11] = MAX(845 + fudge_factor, 0);
	train->stopping_distance[14+12] = MAX(1090 + fudge_factor, 0);
	train->stopping_distance[14+13] = MAX(1275 + fudge_factor, 0);
	train->stopping_distance[14+14] = MAX(1425 + fudge_factor, 0);

	// Time it takes to travel between sensors at different speeds
	train->track_segment_ticks[8][A3][C11] = 150;
	train->track_segment_ticks[8][A3][C13] = 240;
	train->track_segment_ticks[8][A4][B16] = 177;
	train->track_segment_ticks[8][B1][D14] = 160;
	train->track_segment_ticks[8][B2][C9] = 150;
	train->track_segment_ticks[8][B3][C2] = 84;
	train->track_segment_ticks[8][B4][C9] = 144;
	train->track_segment_ticks[8][B5][D3] = 166;
	train->track_segment_ticks[8][B6][C12] = 142;
	train->track_segment_ticks[8][B13][E2] = 192;
	train->track_segment_ticks[8][B14][D16] = 84;
	train->track_segment_ticks[8][B15][A3] = 180;
	train->track_segment_ticks[8][B16][C5] = 192;
	train->track_segment_ticks[8][B16][C10] = 153;
	train->track_segment_ticks[8][C1][B4] = 84;
	train->track_segment_ticks[8][C2][D2] = 198;
	train->track_segment_ticks[8][C5][C15] = 124;
	train->track_segment_ticks[8][C5][E11] = 408;
	train->track_segment_ticks[8][C6][B15] = 192;
	train->track_segment_ticks[8][C9][B15] = 150;
	train->track_segment_ticks[8][C10][B1] = 148;
	train->track_segment_ticks[8][C10][B3] = 147;
	train->track_segment_ticks[8][C11][B5] = 140;
	train->track_segment_ticks[8][C11][E16] = 150;
	train->track_segment_ticks[8][C12][A4] = 151;
	train->track_segment_ticks[8][C13][E7] = 354;
	train->track_segment_ticks[8][C14][A4] = 240;
	train->track_segment_ticks[8][C15][D12] = 162;
	train->track_segment_ticks[8][C16][C6] = 124;
	train->track_segment_ticks[8][D1][C1] = 198;
	train->track_segment_ticks[8][D2][E4] = 84;
	train->track_segment_ticks[8][D3][E5] = 114;
	train->track_segment_ticks[8][D4][B6] = 164;
	train->track_segment_ticks[8][D5][E6] = 151;
	train->track_segment_ticks[8][D6][D9] = 284;
	train->track_segment_ticks[8][D6][E10] = 252;
	train->track_segment_ticks[8][D7][D9] = 316;
	train->track_segment_ticks[8][D8][E8] = 157;
	train->track_segment_ticks[8][D9][E12] = 152;
	train->track_segment_ticks[8][D10][D5] = 284;
	train->track_segment_ticks[8][D10][D8] = 316;
	train->track_segment_ticks[8][D11][C16] = 162;
	train->track_segment_ticks[8][D12][E11] = 116;
	train->track_segment_ticks[8][D13][B2] = 162;
	train->track_segment_ticks[8][D14][E14] = 116;
	train->track_segment_ticks[8][D15][B13] = 84;
	train->track_segment_ticks[8][D16][E14] = 120;
	train->track_segment_ticks[8][E1][B14] = 192;
	train->track_segment_ticks[8][E2][E15] = 78;
	train->track_segment_ticks[8][E3][D1] = 84;
	train->track_segment_ticks[8][E4][E5] = 114;
	train->track_segment_ticks[8][E5][D6] = 156;
	train->track_segment_ticks[8][E6][D4] = 117;
	train->track_segment_ticks[8][E6][E3] = 114;
	train->track_segment_ticks[8][E7][D7] = 157;
	train->track_segment_ticks[8][E8][C14] = 354;
	train->track_segment_ticks[8][E9][D5] = 252;
	train->track_segment_ticks[8][E10][E13] = 150;
	train->track_segment_ticks[8][E11][D10] = 152;
	train->track_segment_ticks[8][E12][C6] = 408;
	train->track_segment_ticks[8][E12][D11] = 116;
	train->track_segment_ticks[8][E13][D13] = 114;
	train->track_segment_ticks[8][E13][D15] = 120;
	train->track_segment_ticks[8][E14][E9] = 153;
	train->track_segment_ticks[8][E15][C12] = 150;
	train->track_segment_ticks[8][E16][E1] = 78;
	train->track_segment_ticks[9][A3][C11] = 120;
	train->track_segment_ticks[9][A3][C13] = 182;
	train->track_segment_ticks[9][A4][B16] = 138;
	train->track_segment_ticks[9][B1][D14] = 126;
	train->track_segment_ticks[9][B2][C9] = 114;
	train->track_segment_ticks[9][B3][C2] = 66;
	train->track_segment_ticks[9][B4][C9] = 114;
	train->track_segment_ticks[9][B5][D3] = 126;
	train->track_segment_ticks[9][B6][C12] = 110;
	train->track_segment_ticks[9][B13][E2] = 150;
	train->track_segment_ticks[9][B14][D16] = 62;
	train->track_segment_ticks[9][B15][A3] = 138;
	train->track_segment_ticks[9][B16][C5] = 151;
	train->track_segment_ticks[9][B16][C10] = 120;
	train->track_segment_ticks[9][C1][B4] = 66;
	train->track_segment_ticks[9][C2][D2] = 156;
	train->track_segment_ticks[9][C5][C15] = 94;
	train->track_segment_ticks[9][C5][E11] = 318;
	train->track_segment_ticks[9][C6][B15] = 151;
	train->track_segment_ticks[9][C9][B15] = 120;
	train->track_segment_ticks[9][C10][B1] = 120;
	train->track_segment_ticks[9][C10][B3] = 114;
	train->track_segment_ticks[9][C11][B5] = 110;
	train->track_segment_ticks[9][C11][E16] = 114;
	train->track_segment_ticks[9][C12][A4] = 117;
	train->track_segment_ticks[9][C13][E7] = 280;
	train->track_segment_ticks[9][C14][A4] = 182;
	train->track_segment_ticks[9][C15][D12] = 128;
	train->track_segment_ticks[9][C16][C6] = 94;
	train->track_segment_ticks[9][D1][C1] = 156;
	train->track_segment_ticks[9][D2][E4] = 66;
	train->track_segment_ticks[9][D3][E5] = 90;
	train->track_segment_ticks[9][D4][B6] = 126;
	train->track_segment_ticks[9][D5][E6] = 119;
	train->track_segment_ticks[9][D6][D9] = 222;
	train->track_segment_ticks[9][D6][E10] = 198;
	train->track_segment_ticks[9][D7][D9] = 246;
	train->track_segment_ticks[9][D8][E8] = 121;
	train->track_segment_ticks[9][D9][E12] = 119;
	train->track_segment_ticks[9][D10][D5] = 222;
	train->track_segment_ticks[9][D10][D8] = 246;
	train->track_segment_ticks[9][D11][C16] = 128;
	train->track_segment_ticks[9][D12][E11] = 90;
	train->track_segment_ticks[9][D13][B2] = 126;
	train->track_segment_ticks[9][D14][E14] = 90;
	train->track_segment_ticks[9][D15][B13] = 62;
	train->track_segment_ticks[9][D16][E14] = 94;
	train->track_segment_ticks[9][E1][B14] = 150;
	train->track_segment_ticks[9][E2][E15] = 66;
	train->track_segment_ticks[9][E3][D1] = 66;
	train->track_segment_ticks[9][E4][E5] = 90;
	train->track_segment_ticks[9][E5][D6] = 114;
	train->track_segment_ticks[9][E6][D4] = 90;
	train->track_segment_ticks[9][E6][E3] = 90;
	train->track_segment_ticks[9][E7][D7] = 121;
	train->track_segment_ticks[9][E8][C14] = 280;
	train->track_segment_ticks[9][E9][D5] = 196;
	train->track_segment_ticks[9][E10][E13] = 120;
	train->track_segment_ticks[9][E11][D10] = 119;
	train->track_segment_ticks[9][E12][C6] = 318;
	train->track_segment_ticks[9][E12][D11] = 90;
	train->track_segment_ticks[9][E13][D13] = 89;
	train->track_segment_ticks[9][E13][D15] = 94;
	train->track_segment_ticks[9][E14][E9] = 117;
	train->track_segment_ticks[9][E15][C12] = 114;
	train->track_segment_ticks[9][E16][E1] = 66;
	train->track_segment_ticks[10][A3][C11] = 98;
	train->track_segment_ticks[10][A3][C13] = 156;
	train->track_segment_ticks[10][A4][B16] = 114;
	train->track_segment_ticks[10][B1][D14] = 106;
	train->track_segment_ticks[10][B2][C9] = 98;
	train->track_segment_ticks[10][B3][C2] = 54;
	train->track_segment_ticks[10][B4][C9] = 98;
	train->track_segment_ticks[10][B5][D3] = 107;
	train->track_segment_ticks[10][B6][C12] = 95;
	train->track_segment_ticks[10][B13][E2] = 126;
	train->track_segment_ticks[10][B14][D16] = 54;
	train->track_segment_ticks[10][B15][A3] = 111;
	train->track_segment_ticks[10][B16][C5] = 127;
	train->track_segment_ticks[10][B16][C10] = 101;
	train->track_segment_ticks[10][C1][B4] = 54;
	train->track_segment_ticks[10][C2][D2] = 131;
	train->track_segment_ticks[10][C5][C15] = 81;
	train->track_segment_ticks[10][C5][E11] = 267;
	train->track_segment_ticks[10][C6][B15] = 127;
	train->track_segment_ticks[10][C9][B15] = 101;
	train->track_segment_ticks[10][C10][B1] = 96;
	train->track_segment_ticks[10][C10][B3] = 97;
	train->track_segment_ticks[10][C11][B5] = 95;
	train->track_segment_ticks[10][C11][E16] = 97;
	train->track_segment_ticks[10][C12][A4] = 101;
	train->track_segment_ticks[10][C13][E7] = 232;
	train->track_segment_ticks[10][C14][A4] = 156;
	train->track_segment_ticks[10][C15][D12] = 105;
	train->track_segment_ticks[10][C16][C6] = 81;
	train->track_segment_ticks[10][D1][C1] = 130;
	train->track_segment_ticks[10][D2][E4] = 55;
	train->track_segment_ticks[10][D3][E5] = 72;
	train->track_segment_ticks[10][D4][B6] = 104;
	train->track_segment_ticks[10][D5][E6] = 101;
	train->track_segment_ticks[10][D6][D9] = 187;
	train->track_segment_ticks[10][D6][E10] = 168;
	train->track_segment_ticks[10][D7][D9] = 207;
	train->track_segment_ticks[10][D8][E8] = 102;
	train->track_segment_ticks[10][D9][E12] = 97;
	train->track_segment_ticks[10][D10][D5] = 187;
	train->track_segment_ticks[10][D10][D8] = 207;
	train->track_segment_ticks[10][D11][C16] = 105;
	train->track_segment_ticks[10][D12][E11] = 75;
	train->track_segment_ticks[10][D13][B2] = 107;
	train->track_segment_ticks[10][D14][E14] = 72;
	train->track_segment_ticks[10][D15][B13] = 54;
	train->track_segment_ticks[10][D16][E14] = 78;
	train->track_segment_ticks[10][E1][B14] = 126;
	train->track_segment_ticks[10][E2][E15] = 50;
	train->track_segment_ticks[10][E3][D1] = 56;
	train->track_segment_ticks[10][E4][E5] = 77;
	train->track_segment_ticks[10][E5][D6] = 99;
	train->track_segment_ticks[10][E6][D4] = 75;
	train->track_segment_ticks[10][E6][E3] = 76;
	train->track_segment_ticks[10][E7][D7] = 102;
	train->track_segment_ticks[10][E8][C14] = 232;
	train->track_segment_ticks[10][E9][D5] = 163;
	train->track_segment_ticks[10][E10][E13] = 100;
	train->track_segment_ticks[10][E11][D10] = 97;
	train->track_segment_ticks[10][E12][C6] = 267;
	train->track_segment_ticks[10][E12][D11] = 75;
	train->track_segment_ticks[10][E13][D13] = 74;
	train->track_segment_ticks[10][E13][D15] = 78;
	train->track_segment_ticks[10][E14][E9] = 102;
	train->track_segment_ticks[10][E15][C12] = 100;
	train->track_segment_ticks[10][E16][E1] = 52;
	train->track_segment_ticks[11][A3][C11] = 78;
	train->track_segment_ticks[11][A3][C13] = 120;
	train->track_segment_ticks[11][A4][B16] = 89;
	train->track_segment_ticks[11][B1][D14] = 79;
	train->track_segment_ticks[11][B2][C9] = 78;
	train->track_segment_ticks[11][B3][C2] = 44;
	train->track_segment_ticks[11][B4][C9] = 76;
	train->track_segment_ticks[11][B5][D3] = 81;
	train->track_segment_ticks[11][B6][C12] = 74;
	train->track_segment_ticks[11][B13][E2] = 96;
	train->track_segment_ticks[11][B14][D16] = 42;
	train->track_segment_ticks[11][B15][A3] = 90;
	train->track_segment_ticks[11][B16][C5] = 96;
	train->track_segment_ticks[11][B16][C10] = 78;
	train->track_segment_ticks[11][C1][B4] = 48;
	train->track_segment_ticks[11][C2][D2] = 98;
	train->track_segment_ticks[11][C5][C15] = 60;
	train->track_segment_ticks[11][C5][E11] = 205;
	train->track_segment_ticks[11][C6][B15] = 96;
	train->track_segment_ticks[11][C9][B15] = 78;
	train->track_segment_ticks[11][C10][B1] = 75;
	train->track_segment_ticks[11][C10][B3] = 75;
	train->track_segment_ticks[11][C11][B5] = 70;
	train->track_segment_ticks[11][C11][E16] = 75;
	train->track_segment_ticks[11][C12][A4] = 77;
	train->track_segment_ticks[11][C13][E7] = 176;
	train->track_segment_ticks[11][C14][A4] = 120;
	train->track_segment_ticks[11][C15][D12] = 84;
	train->track_segment_ticks[11][C16][C6] = 60;
	train->track_segment_ticks[11][D1][C1] = 99;
	train->track_segment_ticks[11][D2][E4] = 42;
	train->track_segment_ticks[11][D3][E5] = 54;
	train->track_segment_ticks[11][D4][B6] = 82;
	train->track_segment_ticks[11][D5][E6] = 77;
	train->track_segment_ticks[11][D6][D9] = 145;
	train->track_segment_ticks[11][D6][E10] = 129;
	train->track_segment_ticks[11][D7][D9] = 161;
	train->track_segment_ticks[11][D8][E8] = 77;
	train->track_segment_ticks[11][D9][E12] = 72;
	train->track_segment_ticks[11][D10][D5] = 145;
	train->track_segment_ticks[11][D10][D8] = 161;
	train->track_segment_ticks[11][D11][C16] = 84;
	train->track_segment_ticks[11][D12][E11] = 56;
	train->track_segment_ticks[11][D13][B2] = 81;
	train->track_segment_ticks[11][D14][E14] = 56;
	train->track_segment_ticks[11][D15][B13] = 42;
	train->track_segment_ticks[11][D16][E14] = 60;
	train->track_segment_ticks[11][E1][B14] = 96;
	train->track_segment_ticks[11][E2][E15] = 39;
	train->track_segment_ticks[11][E3][D1] = 42;
	train->track_segment_ticks[11][E4][E5] = 58;
	train->track_segment_ticks[11][E5][D6] = 78;
	train->track_segment_ticks[11][E6][D4] = 54;
	train->track_segment_ticks[11][E6][E3] = 57;
	train->track_segment_ticks[11][E7][D7] = 77;
	train->track_segment_ticks[11][E8][C14] = 176;
	train->track_segment_ticks[11][E9][D5] = 129;
	train->track_segment_ticks[11][E10][E13] = 78;
	train->track_segment_ticks[11][E11][D10] = 72;
	train->track_segment_ticks[11][E12][C6] = 205;
	train->track_segment_ticks[11][E12][D11] = 56;
	train->track_segment_ticks[11][E13][D13] = 57;
	train->track_segment_ticks[11][E13][D15] = 60;
	train->track_segment_ticks[11][E14][E9] = 78;
	train->track_segment_ticks[11][E15][C12] = 72;
	train->track_segment_ticks[11][E16][E1] = 40;
	train->track_segment_ticks[12][A3][C11] = 66;
	train->track_segment_ticks[12][A3][C13] = 102;
	train->track_segment_ticks[12][A4][B16] = 76;
	train->track_segment_ticks[12][B1][D14] = 70;
	train->track_segment_ticks[12][B2][C9] = 63;
	train->track_segment_ticks[12][B3][C2] = 36;
	train->track_segment_ticks[12][B4][C9] = 66;
	train->track_segment_ticks[12][B5][D3] = 70;
	train->track_segment_ticks[12][B6][C12] = 63;
	train->track_segment_ticks[12][B13][E2] = 84;
	train->track_segment_ticks[12][B14][D16] = 36;
	train->track_segment_ticks[12][B15][A3] = 78;
	train->track_segment_ticks[12][B16][C5] = 84;
	train->track_segment_ticks[12][B16][C10] = 67;
	train->track_segment_ticks[12][C1][B4] = 67;
	train->track_segment_ticks[12][C2][D2] = 87;
	train->track_segment_ticks[12][C5][C15] = 52;
	train->track_segment_ticks[12][C5][E11] = 179;
	train->track_segment_ticks[12][C6][B15] = 84;
	train->track_segment_ticks[12][C9][B15] = 70;
	train->track_segment_ticks[12][C10][B1] = 66;
	train->track_segment_ticks[12][C10][B3] = 64;
	train->track_segment_ticks[12][C11][B5] = 60;
	train->track_segment_ticks[12][C11][E16] = 64;
	train->track_segment_ticks[12][C12][A4] = 66;
	train->track_segment_ticks[12][C13][E7] = 156;
	train->track_segment_ticks[12][C14][A4] = 102;
	train->track_segment_ticks[12][C15][D12] = 71;
	train->track_segment_ticks[12][C16][C6] = 52;
	train->track_segment_ticks[12][D1][C1] = 96;
	train->track_segment_ticks[12][D2][E4] = 38;
	train->track_segment_ticks[12][D3][E5] = 50;
	train->track_segment_ticks[12][D4][B6] = 72;
	train->track_segment_ticks[12][D5][E6] = 69;
	train->track_segment_ticks[12][D6][D9] = 126;
	train->track_segment_ticks[12][D6][E10] = 111;
	train->track_segment_ticks[12][D7][D9] = 138;
	train->track_segment_ticks[12][D8][E8] = 68;
	train->track_segment_ticks[12][D9][E12] = 66;
	train->track_segment_ticks[12][D10][D5] = 126;
	train->track_segment_ticks[12][D10][D8] = 138;
	train->track_segment_ticks[12][D11][C16] = 71;
	train->track_segment_ticks[12][D12][E11] = 53;
	train->track_segment_ticks[12][D13][B2] = 70;
	train->track_segment_ticks[12][D14][E14] = 51;
	train->track_segment_ticks[12][D15][B13] = 36;
	train->track_segment_ticks[12][D16][E14] = 51;
	train->track_segment_ticks[12][E1][B14] = 84;
	train->track_segment_ticks[12][E2][E15] = 36;
	train->track_segment_ticks[12][E3][D1] = 39;
	train->track_segment_ticks[12][E4][E5] = 48;
	train->track_segment_ticks[12][E5][D6] = 67;
	train->track_segment_ticks[12][E6][D4] = 48;
	train->track_segment_ticks[12][E6][E3] = 50;
	train->track_segment_ticks[12][E7][D7] = 68;
	train->track_segment_ticks[12][E8][C14] = 156;
	train->track_segment_ticks[12][E9][D5] = 109;
	train->track_segment_ticks[12][E10][E13] = 66;
	train->track_segment_ticks[12][E11][D10] = 66;
	train->track_segment_ticks[12][E12][C6] = 179;
	train->track_segment_ticks[12][E12][D11] = 53;
	train->track_segment_ticks[12][E13][D13] = 49;
	train->track_segment_ticks[12][E13][D15] = 52;
	train->track_segment_ticks[12][E14][E9] = 67;
	train->track_segment_ticks[12][E15][C12] = 63;
	train->track_segment_ticks[12][E16][E1] = 36;
	train->track_segment_ticks[13][A3][C11] = 58;
	train->track_segment_ticks[13][A3][C13] = 89;
	train->track_segment_ticks[13][A4][B16] = 66;
	train->track_segment_ticks[13][B1][D14] = 61;
	train->track_segment_ticks[13][B2][C9] = 56;
	train->track_segment_ticks[13][B3][C2] = 30;
	train->track_segment_ticks[13][B4][C9] = 54;
	train->track_segment_ticks[13][B5][D3] = 60;
	train->track_segment_ticks[13][B6][C12] = 53;
	train->track_segment_ticks[13][B13][E2] = 73;
	train->track_segment_ticks[13][B14][D16] = 30;
	train->track_segment_ticks[13][B15][A3] = 67;
	train->track_segment_ticks[13][B16][C5] = 72;
	train->track_segment_ticks[13][B16][C10] = 56;
	train->track_segment_ticks[13][C1][B4] = 30;
	train->track_segment_ticks[13][C2][D2] = 76;
	train->track_segment_ticks[13][C5][C15] = 45;
	train->track_segment_ticks[13][C5][E11] = 153;
	train->track_segment_ticks[13][C6][B15] = 72;
	train->track_segment_ticks[13][C9][B15] = 57;
	train->track_segment_ticks[13][C10][B1] = 54;
	train->track_segment_ticks[13][C10][B3] = 57;
	train->track_segment_ticks[13][C11][B5] = 53;
	train->track_segment_ticks[13][C11][E16] = 55;
	train->track_segment_ticks[13][C12][A4] = 56;
	train->track_segment_ticks[13][C13][E7] = 128;
	train->track_segment_ticks[13][C14][A4] = 90;
	train->track_segment_ticks[13][C15][D12] = 61;
	train->track_segment_ticks[13][C16][C6] = 43;
	train->track_segment_ticks[13][D1][C1] = 140;
	train->track_segment_ticks[13][D2][E4] = 32;
	train->track_segment_ticks[13][D3][E5] = 42;
	train->track_segment_ticks[13][D4][B6] = 60;
	train->track_segment_ticks[13][D5][E6] = 56;
	train->track_segment_ticks[13][D6][D9] = 108;
	train->track_segment_ticks[13][D6][E10] = 95;
	train->track_segment_ticks[13][D7][D9] = 114;
	train->track_segment_ticks[13][D8][E8] = 58;
	train->track_segment_ticks[13][D9][E12] = 54;
	train->track_segment_ticks[13][D10][D5] = 106;
	train->track_segment_ticks[13][D10][D8] = 118;
	train->track_segment_ticks[13][D11][C16] = 60;
	train->track_segment_ticks[13][D12][E11] = 43;
	train->track_segment_ticks[13][D13][B2] = 61;
	train->track_segment_ticks[13][D14][E14] = 42;
	train->track_segment_ticks[13][D15][B13] = 30;
	train->track_segment_ticks[13][D16][E14] = 45;
	train->track_segment_ticks[13][E1][B14] = 73;
	train->track_segment_ticks[13][E2][E15] = 33;
	train->track_segment_ticks[13][E3][D1] = 34;
	train->track_segment_ticks[13][E4][E5] = 43;
	train->track_segment_ticks[13][E5][D6] = 57;
	train->track_segment_ticks[13][E6][D4] = 42;
	train->track_segment_ticks[13][E6][E3] = 44;
	train->track_segment_ticks[13][E7][D7] = 57;
	train->track_segment_ticks[13][E8][C14] = 133;
	train->track_segment_ticks[13][E9][D5] = 95;
	train->track_segment_ticks[13][E10][E13] = 57;
	train->track_segment_ticks[13][E11][D10] = 55;
	train->track_segment_ticks[13][E12][C6] = 150;
	train->track_segment_ticks[13][E12][D11] = 40;
	train->track_segment_ticks[13][E13][D13] = 42;
	train->track_segment_ticks[13][E13][D15] = 42;
	train->track_segment_ticks[13][E14][E9] = 57;
	train->track_segment_ticks[13][E15][C12] = 54;
	train->track_segment_ticks[13][E16][E1] = 30;
	train->track_segment_ticks[14][A3][C11] = 54;
	train->track_segment_ticks[14][A3][C13] = 84;
	train->track_segment_ticks[14][A4][B16] = 63;
	train->track_segment_ticks[14][B1][D14] = 57;
	train->track_segment_ticks[14][B2][C9] = 53;
	train->track_segment_ticks[14][B3][C2] = 29;
	train->track_segment_ticks[14][B4][C9] = 52;
	train->track_segment_ticks[14][B5][D3] = 54;
	train->track_segment_ticks[14][B6][C12] = 48;
	train->track_segment_ticks[14][B13][E2] = 68;
	train->track_segment_ticks[14][B14][D16] = 29;
	train->track_segment_ticks[14][B15][A3] = 63;
	train->track_segment_ticks[14][B16][C5] = 70;
	train->track_segment_ticks[14][B16][C10] = 54;
	train->track_segment_ticks[14][C1][B4] = 28;
	train->track_segment_ticks[14][C2][D2] = 72;
	train->track_segment_ticks[14][C5][C15] = 42;
	train->track_segment_ticks[14][C5][E11] = 144;
	train->track_segment_ticks[14][C6][B15] = 66;
	train->track_segment_ticks[14][C9][B15] = 54;
	train->track_segment_ticks[14][C10][B1] = 53;
	train->track_segment_ticks[14][C10][B3] = 53;
	train->track_segment_ticks[14][C11][B5] = 48;
	train->track_segment_ticks[14][C11][E16] = 53;
	train->track_segment_ticks[14][C12][A4] = 54;
	train->track_segment_ticks[14][C13][E7] = 126;
	train->track_segment_ticks[14][C14][A4] = 84;
	train->track_segment_ticks[14][C15][D12] = 58;
	train->track_segment_ticks[14][C16][C6] = 42;
	train->track_segment_ticks[14][D1][C1] = 72;
	train->track_segment_ticks[14][D2][E4] = 30;
	train->track_segment_ticks[14][D3][E5] = 40;
	train->track_segment_ticks[14][D4][B6] = 58;
	train->track_segment_ticks[14][D5][E6] = 53;
	train->track_segment_ticks[14][D6][D9] = 102;
	train->track_segment_ticks[14][D6][E10] = 90;
	train->track_segment_ticks[14][D7][D9] = 110;
	train->track_segment_ticks[14][D8][E8] = 54;
	train->track_segment_ticks[14][D9][E12] = 51;
	train->track_segment_ticks[14][D10][D5] = 102;
	train->track_segment_ticks[14][D10][D8] = 113;
	train->track_segment_ticks[14][D11][C16] = 56;
	train->track_segment_ticks[14][D12][E11] = 37;
	train->track_segment_ticks[14][D13][B2] = 56;
	train->track_segment_ticks[14][D14][E14] = 40;
	train->track_segment_ticks[14][D15][B13] = 28;
	train->track_segment_ticks[14][D16][E14] = 42;
	train->track_segment_ticks[14][E1][B14] = 68;
	train->track_segment_ticks[14][E2][E15] = 28;
	train->track_segment_ticks[14][E3][D1] = 30;
	train->track_segment_ticks[14][E4][E5] = 40;
	train->track_segment_ticks[14][E5][D6] = 56;
	train->track_segment_ticks[14][E6][D4] = 40;
	train->track_segment_ticks[14][E6][E3] = 42;
	train->track_segment_ticks[14][E7][D7] = 54;
	train->track_segment_ticks[14][E8][C14] = 126;
	train->track_segment_ticks[14][E9][D5] = 92;
	train->track_segment_ticks[14][E10][E13] = 54;
	train->track_segment_ticks[14][E11][D10] = 53;
	train->track_segment_ticks[14][E12][C6] = 144;
	train->track_segment_ticks[14][E12][D11] = 39;
	train->track_segment_ticks[14][E13][D13] = 39;
	train->track_segment_ticks[14][E13][D15] = 42;
	train->track_segment_ticks[14][E14][E9] = 54;
	train->track_segment_ticks[14][E15][C12] = 52;
	train->track_segment_ticks[14][E16][E1] = 29;

	train->track_segment_ticks[22][A3][C11] = 138;
	train->track_segment_ticks[22][A4][B16] = 151;
	train->track_segment_ticks[22][B1][D14] = 144;
	train->track_segment_ticks[22][B2][C9] = 132;
	train->track_segment_ticks[22][B3][C2] = 76;
	train->track_segment_ticks[22][B6][C12] = 126;
	train->track_segment_ticks[22][B14][D16] = 74;
	train->track_segment_ticks[22][B15][A3] = 156;
	train->track_segment_ticks[22][B16][C5] = 174;
	train->track_segment_ticks[22][B16][C10] = 135;
	train->track_segment_ticks[22][C2][D2] = 176;
	train->track_segment_ticks[22][C5][E11] = 369;
	train->track_segment_ticks[22][C9][B15] = 138;
	train->track_segment_ticks[22][C10][B1] = 132;
	train->track_segment_ticks[22][C10][B3] = 132;
	train->track_segment_ticks[22][C11][E16] = 132;
	train->track_segment_ticks[22][C12][A4] = 137;
	train->track_segment_ticks[22][C14][A4] = 210;
	train->track_segment_ticks[22][C15][D12] = 144;
	train->track_segment_ticks[22][D2][E4] = 78;
	train->track_segment_ticks[22][D4][B6] = 144;
	train->track_segment_ticks[22][D5][E6] = 135;
	train->track_segment_ticks[22][D6][E10] = 228;
	train->track_segment_ticks[22][D8][E8] = 142;
	train->track_segment_ticks[22][D10][D5] = 256;
	train->track_segment_ticks[22][D10][D8] = 284;
	train->track_segment_ticks[22][D12][E11] = 106;
	train->track_segment_ticks[22][D13][B2] = 144;
	train->track_segment_ticks[22][D14][E14] = 102;
	train->track_segment_ticks[22][D16][E14] = 106;
	train->track_segment_ticks[22][E1][B14] = 173;
	train->track_segment_ticks[22][E4][E5] = 102;
	train->track_segment_ticks[22][E5][D6] = 138;
	train->track_segment_ticks[22][E6][D4] = 102;
	train->track_segment_ticks[22][E8][C14] = 318;
	train->track_segment_ticks[22][E9][D5] = 226;
	train->track_segment_ticks[22][E10][E13] = 138;
	train->track_segment_ticks[22][E11][D10] = 132;
	train->track_segment_ticks[22][E13][D13] = 102;
	train->track_segment_ticks[22][E14][E9] = 138;
	train->track_segment_ticks[22][E16][E1] = 72;
	train->track_segment_ticks[23][A3][C11] = 108;
	train->track_segment_ticks[23][A4][B16] = 123;
	train->track_segment_ticks[23][B1][D14] = 114;
	train->track_segment_ticks[23][B2][C9] = 108;
	train->track_segment_ticks[23][B3][C2] = 58;
	train->track_segment_ticks[23][B6][C12] = 102;
	train->track_segment_ticks[23][B14][D16] = 60;
	train->track_segment_ticks[23][B15][A3] = 126;
	train->track_segment_ticks[23][B16][C5] = 139;
	train->track_segment_ticks[23][B16][C10] = 106;
	train->track_segment_ticks[23][C2][D2] = 144;
	train->track_segment_ticks[23][C5][C15] = 88;
	train->track_segment_ticks[23][C5][E11] = 294;
	train->track_segment_ticks[23][C9][B15] = 114;
	train->track_segment_ticks[23][C10][B1] = 109;
	train->track_segment_ticks[23][C10][B3] = 105;
	train->track_segment_ticks[23][C11][E16] = 104;
	train->track_segment_ticks[23][C12][A4] = 108;
	train->track_segment_ticks[23][C14][A4] = 171;
	train->track_segment_ticks[23][C15][D12] = 117;
	train->track_segment_ticks[23][D2][E4] = 60;
	train->track_segment_ticks[23][D4][B6] = 118;
	train->track_segment_ticks[23][D5][E6] = 108;
	train->track_segment_ticks[23][D6][E10] = 180;
	train->track_segment_ticks[23][D8][E8] = 111;
	train->track_segment_ticks[23][D10][D5] = 208;
	train->track_segment_ticks[23][D10][D8] = 232;
	train->track_segment_ticks[23][D12][E11] = 84;
	train->track_segment_ticks[23][D13][B2] = 114;
	train->track_segment_ticks[23][D14][E14] = 84;
	train->track_segment_ticks[23][D16][E14] = 84;
	train->track_segment_ticks[23][E1][B14] = 138;
	train->track_segment_ticks[23][E4][E5] = 86;
	train->track_segment_ticks[23][E5][D6] = 112;
	train->track_segment_ticks[23][E6][D4] = 80;
	train->track_segment_ticks[23][E8][C14] = 256;
	train->track_segment_ticks[23][E9][D5] = 183;
	train->track_segment_ticks[23][E10][E13] = 108;
	train->track_segment_ticks[23][E11][D10] = 108;
	train->track_segment_ticks[23][E13][D13] = 84;
	train->track_segment_ticks[23][E14][E9] = 113;
	train->track_segment_ticks[23][E16][E1] = 60;
	train->track_segment_ticks[24][A3][C11] = 86;
	train->track_segment_ticks[24][A4][B16] = 101;
	train->track_segment_ticks[24][B1][D14] = 94;
	train->track_segment_ticks[24][B2][C9] = 84;
	train->track_segment_ticks[24][B3][C2] = 46;
	train->track_segment_ticks[24][B6][C12] = 79;
	train->track_segment_ticks[24][B14][D16] = 48;
	train->track_segment_ticks[24][B15][A3] = 102;
	train->track_segment_ticks[24][B16][C5] = 114;
	train->track_segment_ticks[24][B16][C10] = 85;
	train->track_segment_ticks[24][C2][D2] = 118;
	train->track_segment_ticks[24][C5][C15] = 72;
	train->track_segment_ticks[24][C5][E11] = 234;
	train->track_segment_ticks[24][C9][B15] = 90;
	train->track_segment_ticks[24][C10][B1] = 84;
	train->track_segment_ticks[24][C10][B3] = 86;
	train->track_segment_ticks[24][C11][E16] = 87;
	train->track_segment_ticks[24][C12][A4] = 86;
	train->track_segment_ticks[24][C14][A4] = 133;
	train->track_segment_ticks[24][C15][D12] = 92;
	train->track_segment_ticks[24][D2][E4] = 48;
	train->track_segment_ticks[24][D4][B6] = 94;
	train->track_segment_ticks[24][D5][E6] = 84;
	train->track_segment_ticks[24][D6][E10] = 144;
	train->track_segment_ticks[24][D8][E8] = 88;
	train->track_segment_ticks[24][D10][D5] = 166;
	train->track_segment_ticks[24][D10][D8] = 182;
	train->track_segment_ticks[24][D12][E11] = 66;
	train->track_segment_ticks[24][D13][B2] = 93;
	train->track_segment_ticks[24][D14][E14] = 66;
	train->track_segment_ticks[24][D16][E14] = 66;
	train->track_segment_ticks[24][E1][B14] = 112;
	train->track_segment_ticks[24][E4][E5] = 66;
	train->track_segment_ticks[24][E5][D6] = 90;
	train->track_segment_ticks[24][E6][D4] = 66;
	train->track_segment_ticks[24][E8][C14] = 206;
	train->track_segment_ticks[24][E9][D5] = 146;
	train->track_segment_ticks[24][E10][E13] = 87;
	train->track_segment_ticks[24][E11][D10] = 84;
	train->track_segment_ticks[24][E13][D13] = 66;
	train->track_segment_ticks[24][E14][E9] = 89;
	train->track_segment_ticks[24][E16][E1] = 45;
	train->track_segment_ticks[25][A3][C11] = 73;
	train->track_segment_ticks[25][A4][B16] = 83;
	train->track_segment_ticks[25][B1][D14] = 75;
	train->track_segment_ticks[25][B2][C9] = 70;
	train->track_segment_ticks[25][B3][C2] = 42;
	train->track_segment_ticks[25][B6][C12] = 66;
	train->track_segment_ticks[25][B14][D16] = 40;
	train->track_segment_ticks[25][B15][A3] = 84;
	train->track_segment_ticks[25][B16][C5] = 90;
	train->track_segment_ticks[25][B16][C10] = 70;
	train->track_segment_ticks[25][C2][D2] = 97;
	train->track_segment_ticks[25][C5][C15] = 330;
	train->track_segment_ticks[25][C5][E11] = 193;
	train->track_segment_ticks[25][C9][B15] = 72;
	train->track_segment_ticks[25][C10][B1] = 67;
	train->track_segment_ticks[25][C10][B3] = 66;
	train->track_segment_ticks[25][C11][E16] = 70;
	train->track_segment_ticks[25][C12][A4] = 72;
	train->track_segment_ticks[25][C14][A4] = 111;
	train->track_segment_ticks[25][C15][D12] = 75;
	train->track_segment_ticks[25][D2][E4] = 39;
	train->track_segment_ticks[25][D4][B6] = 78;
	train->track_segment_ticks[25][D5][E6] = 72;
	train->track_segment_ticks[25][D6][E10] = 120;
	train->track_segment_ticks[25][D8][E8] = 74;
	train->track_segment_ticks[25][D10][D5] = 138;
	train->track_segment_ticks[25][D10][D8] = 152;
	train->track_segment_ticks[25][D12][E11] = 54;
	train->track_segment_ticks[25][D13][B2] = 78;
	train->track_segment_ticks[25][D14][E14] = 54;
	train->track_segment_ticks[25][D16][E14] = 55;
	train->track_segment_ticks[25][E1][B14] = 90;
	train->track_segment_ticks[25][E4][E5] = 55;
	train->track_segment_ticks[25][E5][D6] = 72;
	train->track_segment_ticks[25][E6][D4] = 54;
	train->track_segment_ticks[25][E8][C14] = 167;
	train->track_segment_ticks[25][E9][D5] = 120;
	train->track_segment_ticks[25][E10][E13] = 72;
	train->track_segment_ticks[25][E11][D10] = 69;
	train->track_segment_ticks[25][E13][D13] = 54;
	train->track_segment_ticks[25][E14][E9] = 72;
	train->track_segment_ticks[25][E16][E1] = 37;
	train->track_segment_ticks[26][A3][C11] = 60;
	train->track_segment_ticks[26][A4][B16] = 67;
	train->track_segment_ticks[26][B1][D14] = 60;
	train->track_segment_ticks[26][B2][C9] = 57;
	train->track_segment_ticks[26][B3][C2] = 30;
	train->track_segment_ticks[26][B6][C12] = 54;
	train->track_segment_ticks[26][B14][D16] = 33;
	train->track_segment_ticks[26][B15][A3] = 69;
	train->track_segment_ticks[26][B16][C5] = 77;
	train->track_segment_ticks[26][B16][C10] = 58;
	train->track_segment_ticks[26][C2][D2] = 78;
	train->track_segment_ticks[26][C5][C15] = 48;
	train->track_segment_ticks[26][C5][E11] = 159;
	train->track_segment_ticks[26][C9][B15] = 62;
	train->track_segment_ticks[26][C10][B1] = 60;
	train->track_segment_ticks[26][C10][B3] = 58;
	train->track_segment_ticks[26][C11][E16] = 60;
	train->track_segment_ticks[26][C12][A4] = 60;
	train->track_segment_ticks[26][C14][A4] = 91;
	train->track_segment_ticks[26][C15][D12] = 63;
	train->track_segment_ticks[26][D2][E4] = 36;
	train->track_segment_ticks[26][D4][B6] = 61;
	train->track_segment_ticks[26][D5][E6] = 60;
	train->track_segment_ticks[26][D6][E10] = 97;
	train->track_segment_ticks[26][D8][E8] = 61;
	train->track_segment_ticks[26][D10][D5] = 114;
	train->track_segment_ticks[26][D10][D8] = 126;
	train->track_segment_ticks[26][D12][E11] = 42;
	train->track_segment_ticks[26][D13][B2] = 62;
	train->track_segment_ticks[26][D14][E14] = 43;
	train->track_segment_ticks[26][D16][E14] = 43;
	train->track_segment_ticks[26][E1][B14] = 78;
	train->track_segment_ticks[26][E4][E5] = 46;
	train->track_segment_ticks[26][E5][D6] = 60;
	train->track_segment_ticks[26][E6][D4] = 47;
	train->track_segment_ticks[26][E8][C14] = 138;
	train->track_segment_ticks[26][E9][D5] = 100;
	train->track_segment_ticks[26][E10][E13] = 60;
	train->track_segment_ticks[26][E11][D10] = 58;
	train->track_segment_ticks[26][E13][D13] = 48;
	train->track_segment_ticks[26][E14][E9] = 60;
	train->track_segment_ticks[26][E16][E1] = 30;
	train->track_segment_ticks[27][A3][C11] = 54;
	train->track_segment_ticks[27][A4][B16] = 60;
	train->track_segment_ticks[27][B1][D14] = 58;
	train->track_segment_ticks[27][B2][C9] = 54;
	train->track_segment_ticks[27][B3][C2] = 30;
	train->track_segment_ticks[27][B6][C12] = 48;
	train->track_segment_ticks[27][B14][D16] = 28;
	train->track_segment_ticks[27][B15][A3] = 63;
	train->track_segment_ticks[27][B16][C5] = 66;
	train->track_segment_ticks[27][B16][C10] = 54;
	train->track_segment_ticks[27][C2][D2] = 72;
	train->track_segment_ticks[27][C5][C15] = 199;
	train->track_segment_ticks[27][C5][E11] = 144;
	train->track_segment_ticks[27][C9][B15] = 54;
	train->track_segment_ticks[27][C10][B1] = 50;
	train->track_segment_ticks[27][C10][B3] = 54;
	train->track_segment_ticks[27][C11][E16] = 51;
	train->track_segment_ticks[27][C12][A4] = 54;
	train->track_segment_ticks[27][C14][A4] = 84;
	train->track_segment_ticks[27][C15][D12] = 57;
	train->track_segment_ticks[27][D2][E4] = 30;
	train->track_segment_ticks[27][D4][B6] = 54;
	train->track_segment_ticks[27][D5][E6] = 53;
	train->track_segment_ticks[27][D6][E10] = 90;
	train->track_segment_ticks[27][D8][E8] = 54;
	train->track_segment_ticks[27][D10][D5] = 101;
	train->track_segment_ticks[27][D10][D8] = 110;
	train->track_segment_ticks[27][D12][E11] = 39;
	train->track_segment_ticks[27][D13][B2] = 57;
	train->track_segment_ticks[27][D14][E14] = 40;
	train->track_segment_ticks[27][D16][E14] = 42;
	train->track_segment_ticks[27][E1][B14] = 68;
	train->track_segment_ticks[27][E4][E5] = 42;
	train->track_segment_ticks[27][E5][D6] = 54;
	train->track_segment_ticks[27][E6][D4] = 41;
	train->track_segment_ticks[27][E8][C14] = 126;
	train->track_segment_ticks[27][E9][D5] = 90;
	train->track_segment_ticks[27][E10][E13] = 54;
	train->track_segment_ticks[27][E11][D10] = 53;
	train->track_segment_ticks[27][E13][D13] = 40;
	train->track_segment_ticks[27][E14][E9] = 54;
	train->track_segment_ticks[27][E16][E1] = 30;
}
#else
void init_track_b(struct train_profile* train, int track_tid) {

}
#endif
